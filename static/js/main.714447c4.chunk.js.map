{"version":3,"sources":["reducers/index.js","reducers/postsReducer.js","reducers/usersReducer.js","apis/jsonPlaceholder.js","actions/index.js","components/UserHeader.js","components/PostList.js","components/App.js","index.js"],"names":["combineReducers","posts","state","arguments","length","undefined","action","type","payload","users","concat","Object","toConsumableArray","axios","create","baseURL","fetchPosts","_ref2","asyncToGenerator","regenerator_default","a","mark","_callee2","dispatch","response","wrap","_context2","prev","next","json","get","sent","data","stop","_x3","apply","this","fetchUser","id","_ref3","_callee3","_context3","_x4","UserHeader","user","props","react_default","createElement","className","name","React","Component","connect","ownProps","find","userId","PostList","fetchUsersAndPosts","map","post","key","title","body","components_UserHeader","renderList","_ref","_callee","getState","_context","_","chain","uniq","forEach","value","_x","_x2","App","components_PostList","store","createStore","reducers","applyMiddleware","thunk","ReactDOM","render","es","components_App","document","getElementById"],"mappings":"8LAIeA,cAAgB,CAC3BC,MCLuB,WAAuB,IAAtBC,EAAsBC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAd,GAAIG,EAAUH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC9C,OAAOC,EAAOC,MACV,IAAK,cACD,OAAOD,EAAOE,QAClB,QACI,OAAON,IDCfO,MELwB,WAAsB,IAArBP,EAAqBC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAf,GAAIG,EAAWH,UAAAC,OAAA,EAAAD,UAAA,QAAAE,EAC9C,OAAQC,EAAOC,MACf,IAAK,aACL,SAAAG,OAAAC,OAAAC,EAAA,EAAAD,CAAWT,GAAX,CAAkBI,EAAOE,UACzB,QACI,OAAON,4ECJAW,WAAMC,OAAO,CACxBC,QAAS,0DCaAC,EAAa,iCAAAC,EAAAN,OAAAO,EAAA,EAAAP,CAAAQ,EAAAC,EAAAC,KAAO,SAAAC,EAAMC,GAAN,IAAAC,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAC,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAE,KAAA,EACNC,EAAKC,IAAI,UADH,OACvBN,EADuBE,EAAAK,KAE7BR,EAAS,CAAChB,KAAM,cAAeC,QAASgB,EAASQ,OAFpB,wBAAAN,EAAAO,SAAAX,MAAP,gBAAAY,GAAA,OAAAjB,EAAAkB,MAAAC,KAAAjC,YAAA,IAKZkC,EAAY,SAACC,GAAD,sBAAAC,EAAA5B,OAAAO,EAAA,EAAAP,CAAAQ,EAAAC,EAAAC,KAAQ,SAAAmB,EAAMjB,GAAN,IAAAC,EAAA,OAAAL,EAAAC,EAAAK,KAAA,SAAAgB,GAAA,cAAAA,EAAAd,KAAAc,EAAAb,MAAA,cAAAa,EAAAb,KAAA,EACVC,EAAKC,IAAL,UAAApB,OAAmB4B,IADT,OAC3Bd,EAD2BiB,EAAAV,KAEjCR,EAAS,CAAChB,KAAM,aAAcC,QAASgB,EAASQ,OAFf,wBAAAS,EAAAR,SAAAO,MAAR,gBAAAE,GAAA,OAAAH,EAAAJ,MAAAC,KAAAjC,YAAA,ICjBpBwC,mLAEM,IACIC,EAASR,KAAKS,MAAdD,KACR,OAAIA,EAIAE,EAAA1B,EAAA2B,cAAA,OAAKC,UAAU,UAAUJ,EAAKK,MAHvB,YALMC,IAAMC,WAmBhBC,kBANf,SAAyBlD,EAAOmD,GAC5B,MAAO,CAACT,KAAM1C,EAAMO,MAAM6C,KAAK,SAAAV,GAC3B,OAAQA,EAAKN,KAAKe,EAASE,WAIpBH,CAAyBT,GClBlCa,8LAEEpB,KAAKS,MAAMY,0DAKX,OAAOrB,KAAKS,MAAM5C,MAAMyD,IAAI,SAAAC,GACxB,OAAOb,EAAA1B,EAAA2B,cAAA,OAAKC,UAAU,OAAOY,IAAKD,EAAKrB,IACnCQ,EAAA1B,EAAA2B,cAAA,KAAGC,UAAW,mCACdF,EAAA1B,EAAA2B,cAAA,OAAKC,UAAU,WACXF,EAAA1B,EAAA2B,cAAA,OAAKC,UAAU,eACXF,EAAA1B,EAAA2B,cAAA,UAAKY,EAAKE,OACVf,EAAA1B,EAAA2B,cAAA,SAAIY,EAAKG,OAEbhB,EAAA1B,EAAA2B,cAACgB,EAAD,CAAYR,OAAQI,EAAKJ,8CAMrC,OAEIT,EAAA1B,EAAA2B,cAAA,OAAKC,UAAU,2BACVZ,KAAK4B,qBAxBCd,IAAMC,WAkCdC,kBAJf,SAAyBlD,GACzB,MAAO,CAACD,MAAOC,EAAMD,QAGmB,CAAEwD,mBFpCR,iCAAAQ,EAAAtD,OAAAO,EAAA,EAAAP,CAAAQ,EAAAC,EAAAC,KAAM,SAAA6C,EAAO3C,EAAU4C,GAAjB,OAAAhD,EAAAC,EAAAK,KAAA,SAAA2C,GAAA,cAAAA,EAAAzC,KAAAyC,EAAAxC,MAAA,cAAAwC,EAAAxC,KAAA,EAC/BL,EAASP,KADsB,OAMtCqD,IAAEC,MAAMH,IAAWlE,OAClByD,IAAI,UACJa,OACAC,QAAQ,SAAAlC,GAAE,OAAIf,EAASc,EAAUC,MACjCmC,QAVqC,wBAAAL,EAAAnC,SAAAiC,MAAN,gBAAAQ,EAAAC,GAAA,OAAAV,EAAA9B,MAAAC,KAAAjC,YAAA,KEoCnBiD,CAAiDI,GC9BjDoB,EALH,WACJ,OACI9B,EAAA1B,EAAA2B,cAAA,OAAKC,UAAU,gBAAeF,EAAA1B,EAAA2B,cAAC8B,EAAD,gBCGpCC,EAAQC,YAAYC,EAAUC,YAAgBC,MAEpDC,IAASC,OACTtC,EAAA1B,EAAA2B,cAACsC,EAAA,EAAD,CAAUP,MAAOA,GACbhC,EAAA1B,EAAA2B,cAACuC,EAAD,OACSC,SAASC,eAAe","file":"static/js/main.714447c4.chunk.js","sourcesContent":["import { combineReducers } from 'redux';\r\nimport { postsReducer } from './postsReducer';\r\nimport { usersReducer } from './usersReducer';\r\n\r\nexport default combineReducers({\r\n    posts: postsReducer,\r\n    users: usersReducer\r\n});\r\n\r\n","export const postsReducer =(state = [], action) =>{\r\n    switch(action.type){\r\n        case 'FETCH_POSTS':\r\n            return action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n    }","\r\nexport const usersReducer = (state=[], action) => {\r\n    switch (action.type){\r\n    case 'FETCH_USER':\r\n    return [...state, action.payload];\r\n    default:\r\n        return state;\r\n    }\r\n}","import axios from 'axios';\r\n\r\nexport default axios.create({\r\n    baseURL: 'https://jsonplaceholder.typicode.com',\r\n})","import json from '../apis/jsonPlaceholder';\r\nimport _ from 'lodash'; \r\n\r\nexport const fetchUsersAndPosts = () => async (dispatch, getState) => {\r\n   await dispatch(fetchPosts());\r\n    \r\n   /*const userIds = _.uniq(_.map(getState().posts, 'userId'));\r\n   userIds.forEach(id =>  dispatch(fetchUser(id)));\r\n   */\r\n  _.chain(getState().posts)\r\n  .map('userId')\r\n  .uniq()\r\n  .forEach(id => dispatch(fetchUser(id)))\r\n  .value();\r\n};\r\n\r\nexport const fetchPosts = () =>  async dispatch => {\r\n    const response = await json.get('/posts');\r\n    dispatch({type: \"FETCH_POSTS\", payload: response.data})\r\n };\r\n\r\n export const fetchUser = (id) => async dispatch => {\r\n const response = await json.get(`/users/${id}`);\r\n dispatch({type: \"FETCH_USER\", payload: response.data})\r\n };\r\n\r\n /*export const fetchUser = (id) => dispatch => _fetchUser(id, dispatch);\r\n const _fetchUser = _.memoize(async (id, dispatch) => {\r\n const response = await json.get(`/users/${id}`);\r\n dispatch({type: \"FETCH_USER\", payload: response.data})\r\n });\r\n */\r\n","import React from 'react';\r\nimport { connect } from 'react-redux';\r\n/*import { fetchUser } from '../actions' */\r\n\r\nclass UserHeader extends React.Component{\r\n    \r\n    render(){\r\n        const { user } = this.props;\r\n        if(!user){\r\n            return null;\r\n        }\r\n        return(\r\n            <div className=\"header\">{user.name}</div>\r\n        )\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state, ownProps){\r\n    return {user: state.users.find(user => {\r\n        return (user.id===ownProps.userId)\r\n    })};\r\n}\r\n\r\nexport default connect(mapStateToProps)(UserHeader);","import React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { fetchUsersAndPosts } from '../actions';\r\nimport UserHeader from './UserHeader';\r\n\r\nclass PostList extends React.Component{\r\n    componentDidMount(){\r\n        this.props.fetchUsersAndPosts();\r\n    }\r\n    \r\n\r\n    renderList(){\r\n        return this.props.posts.map(post => {\r\n            return <div className=\"item\" key={post.id}>\r\n                <i className =\"large middle aligned icon user\"/>\r\n                <div className=\"content\">\r\n                    <div className=\"description\">\r\n                        <h2>{post.title}</h2>\r\n                        <p>{post.body}</p>\r\n                    </div>\r\n                    <UserHeader userId={post.userId}/>\r\n                </div>\r\n            </div>\r\n        })\r\n    }\r\n    render(){\r\n        return(\r\n            \r\n            <div className=\"ui relaxed divided list\">\r\n                {this.renderList()}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nfunction mapStateToProps(state){\r\nreturn {posts: state.posts};\r\n}\r\n\r\nexport default connect(mapStateToProps, { fetchUsersAndPosts })(PostList);","import React from 'react';\r\nimport PostList from './PostList';\r\n\r\n\r\nconst App = () => {\r\n        return (\r\n            <div className=\"ui container\"><PostList /></div>\r\n        );\r\n    }\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport reducers from './reducers';\r\nimport App from './components/App';\r\nimport thunk from 'redux-thunk';\r\n\r\n\r\nconst store = createStore(reducers, applyMiddleware(thunk))\r\n\r\nReactDOM.render(\r\n<Provider store={store}>\r\n    <App />\r\n</Provider>, document.getElementById('root'));"],"sourceRoot":""}